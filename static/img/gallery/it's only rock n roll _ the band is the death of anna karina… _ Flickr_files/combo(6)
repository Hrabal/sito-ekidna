YUI.add("photo-stats-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{langBundles:this.details.langBundles,name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-photos-getInfo"].run(t,this.appContext)},update:function(t,n){var r={photoId:t},i=!0;return n.datePostedPartial?(r.datePostedPartial=n.datePostedPartial.newVal,i=!1):n.datePosted&&(r.datePosted=n.datePosted.newVal,i=!1),n.dateTakenPartial?(r.dateTakenPartial=n.dateTakenPartial.newVal,i=!1):n.dateTaken&&(r.dateTaken=n.dateTaken.newVal,i=!1),n.takenGranularity&&(r.takenGranularity=n.takenGranularity.newVal,i=!1),i?e.Promise.resolve():e.ModelUpdaters["flickr-photos-setDates"].run(r,this.appContext)},batchUpdate:function(t,n){var r={photoId:t,fullResponse:1};return"datePostedPartial"in n&&"dateTakenPartial"in n?(r.datePostedPartial=n.datePostedPartial,r.dateTakenPartial=n.dateTakenPartial,r.takenGranularity=n.takenGranularity):"datePostedPartial"in n?r.datePostedPartial=n.datePostedPartial:"dateTakenPartial"in n?(r.dateTakenPartial=n.dateTakenPartial,r.takenGranularity=n.takenGranularity):"postedDate"in n&&"takenDate"in n?(r.datePosted=n.postedDate,r.dateTaken=n.takenDate,r.takenGranularity=n.takenGranularity):"postedDate"in n?r.datePosted=n.postedDate:(r.dateTaken=n.takenDate,r.takenGranularity=n.takenGranularity),e.ModelUpdaters["flickr-photos-setDates"].run(r,this.appContext)}},attributes:{dateTaken:{},dateTakenPartial:{},datePosted:{},datePostedPartial:{},takenGranularity:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){t=e.AttributeHelpers.coerceInteger(t);if(t<0||t>10)t=undefined;return t},defaultValue:0},isDateTakenUnknown:{validator:function(t){return e.AttributeHelpers.validateBoolean(t)},setter:function(t){return t=e.AttributeHelpers.coerceBoolean(t),t},defaultValue:!1},isCirca:{readOnly:!0,derivedBy:["takenGranularity"],defaultFn:function(e){return this.getValue(e,"takenGranularity")===8}},isSometime:{readOnly:!0,derivedBy:["takenGranularity"],defaultFn:function(e){return this.getValue(e,"takenGranularity")===6}},datePostedWithTimezone:{readOnly:!0,derivedBy:["datePosted"],defaultFn:function(t){var n=this.getValue(t,"datePosted"),r=this.appContext.getViewer().prefs.timezonePref,i=e.moment(n,"X");return r.name&&i.tz(r.name),i}}},getDateObj:function(t,n){if(n!=="dateTaken"&&n!=="datePosted")throw new Error(this.intlMessage({intlName:"models.BAD_DATE_TYPE"}));var r={},i=this.getValue(t,n),s=this.getValue(t,"takenGranularity"),o=this.appContext.getViewer().prefs.timezonePref;return i?(n==="dateTaken"?s===8?r={granularity:s,year:i.replace(/^([\d]+)(.*)/g,"$1"),monthName:this.intlMessage({intlName:"common.CIRCA"})}:s===6?(i=e.moment(i),r={granularity:s,year:i.format("YYYY"),monthName:this.intlMessage({intlName:"common.SOMETIME_IN"})}):s===4?(i=e.moment(i),r={granularity:s,year:i.format("YYYY"),month:i.format("M"),monthName:i.format("MMMM")}):(i=e.moment(i),r={granularity:s,year:i.format("YYYY"),month:i.format("M"),monthName:i.format("MMMM"),day:i.format("D"),hour:i.format("HH"),minute:i.format("mm"),second:i.format("ss")}):(i=e.moment(i,"X"),o.name&&i.tz(o.name),r={granularity:s,year:i.format("YYYY"),month:i.format("M"),monthName:i.format("MMMM"),day:i.format("D"),hour:i.format("HH"),minute:i.format("mm"),second:i.format("ss")},o.isDefaults||(r.tzOffset=o.offset)),r):{}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-photos-getInfo-fetcher","attribute-helpers","flickr-photos-setDates-updater","moment","moment-timezone"],langBundles:["models","common"]});
YUI.add("hermes-lang-models_it-it",function(e,t){e.Intl.add("hermes/models","it-IT",{YOUR_PHOTOSTREAM:["Il tuo fotostream"],USER_PHOTOSTREAM:["Il fotostream di ","${name}"],USER_PHOTOS:["Foto di ","${name}"],PHOTOSTREAM:["Fotostream"],YOUR_FAVORITES:["I tuoi preferiti"],USER_FAVORITES:["I preferiti di ","${name}"],FAVORITES:["Preferiti"],ZERO_PHOTOS:["0 foto"],ONE_PHOTO:["1 foto"],MULTIPLE_PHOTOS:["${photos}"," foto"],PLURAL_PHOTOS:[{type:"plural",valueName:"count",options:{one:"${#} foto",other:"${#} foto"}}],ONE_VIDEO:["1 video"],ONE_PHOTO_AND_ONE_VIDEO:["1 foto e 1 video"],ONE_PHOTO_AND_ONE_VIDEO_AMP:["1 foto e 1 video"],MULTIPLE_PHOTOS_AND_ONE_VIDEO:["${photos}"," foto e 1 video"],MULTIPLE_PHOTOS_AND_ONE_VIDEO_AMP:["${photos}"," foto e 1 video"],MULTIPLE_VIDEOS:["${videos}"," video"],ONE_PHOTO_AND_MULTIPLE_VIDEOS:["1 foto e ","${videos}"," video"],ONE_PHOTO_AND_MULTIPLE_VIDEOS_AMP:["1 foto e ","${videos}"," video"],MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS:["${photos}"," foto e ","${videos}"," video"],MULTIPLE_PHOTOS_AND_MULTIPLE_VIDEOS_AMP:["${photos}"," foto e ","${videos}"," video"],PHOTO_LIST:["Elenco foto"],EXPlORE_TITLE:["Esplora","${id}"],BAD_DATE_TYPE:["Tipo di data non valido"],ZERO_ITEMS:["0 elementi"],ONE_ITEM:["1 elemento"],MULTIPLE_ITEMS:["${items}"," elementi"]})},"@VERSION@",{requires:["intl"]});
YUI.add("hermes-lang-common_it-it",function(e,t){e.Intl.add("hermes/common","it-IT",{SIGN_UP:["Registrati"],YOU:["Tu"],PHOTOSTREAM:["Fotostream"],SETS:["Set"],ALBUMS:["Album"],MAP:["Mappa"],FAVORITES:["Preferiti"],GALLERIES:["Gallerie"],COLLECTIONS:["Raccolte"],ARCHIVES:["Archivi"],TAGS:["Tag"],PHOTOS_OF:["Foto di"],PROFILE:["Profilo"],POPULAR:["Popolarit\u00e0"],EXPLORE:["Esplora"],ACTIVITY:["Attivit\u00e0 recenti"],STATS:["Statistiche"],ORGANIZE:["Organizza"],HELP:["Aiuto"],SETTINGS:["Impostazioni"],SIGN_OUT:["Esci"],FLICKRMAIL:["FlickrMail"],ERROR:["Errore"],OK:["OK"],OOPS:["Ops!"],SIGN_IN:["Accedi a"],FORGET_IT:["Non pensarci"],WARNING:["Attenzione"],DONE:["Fatto"],ZOINKS:["Caspita!"],CANCEL:["Annulla"],ON:["Attivato"],OFF:["Disattivato"],ABOUT:["Info"],JOBS:["Opportunit\u00e0 di lavoro"],BLOG:["Blog"],APPS:["App"],BRAND:["Marchio"],DEVELOPERS:["Sviluppatori"],STATUS:["Stato"],COMMUNITY_GUIDELINES:["Linee guida della community"],REPORT_ABUSE:["Segnala abuso"],PRIVACY:["Privacy"],TERMS:["Condizioni"],YAHOO_SAFELY:["Yahoo Safely"],FEEDBACK:["Feedback"],MOBILE:["Mobile"],APP_GARDEN:["App Garden"],COMMUNITY:["Community"],API_DOC:["Doc API"],DEVELOPER_GUIDE:["Guida per gli sviluppatori"],DEVELOPER_BLOG:["Blog degli sviluppatori"],HELP_FORUM:["Forum dell'Aiuto"],GUIDELINES:["Linee guida"],NUMBER:[{type:"number",valueName:"num"}],RETRY:["Riprova"],EDIT:["Modifica"],MORE:["Altro"],DELETE:["Elimina"],LOADING:["Caricamento"],FOLLOW:["Segui"],FOLLOWING:["Stai seguendo"],UNFOLLOW:["Smetti di seguire"],FRIEND:["Amico"],FRIENDS:["Amici"],FAMILY:["Familiari"],PUBLIC:["Pubblica"],FRIENDS_AND_FAMILY:["Amici e familiari"],FRIEND_AND_FAMILY:["Amici e familiari"],ALL:["Tutto"],A_YAHOO_COMPANY:["Flickr, un'azienda Yahoo"],A_YAHOO_COMPANY_WITH_LINK:['Flickr, <a href="https://info.yahoo.com">un\'azienda Yahoo</a>'],A_YAHOO_COMPANY_WITH_TRACKED_LINK:['Flickr, <a href="https://info.yahoo.com" data-track="footer-yahoo">un\u2019azienda Yahoo</a>'],CONFIRMATION:["Conferma"],FAVORITE:["Preferite"],SEARCH:["Cerca"],CONFIRM:["Conferma"],SELECT:["Seleziona"],NEW:["Nuovo"],LOADING_WITH_ELLIPSES:["Caricamento in corso..."],NONE:["Nessuna"],TITLE:["Titolo"],DESCRIPTION:["Descrizione"],DECLINE:["Rifiuta"],ACCEPT:["Accetta"],CIRCA:["Intorno al"],SOMETIME_IN:["Nel"],JANUARY:["gennaio"],FEBRUARY:["febbraio"],MARCH:["marzo"],APRIL:["aprile"],MAY:["maggio"],JUNE:["giugno"],JULY:["luglio"],AUGUST:["agosto"],SEPTEMBER:["settembre"],OCTOBER:["ottobre"],NOVEMBER:["novembre"],DECEMBER:["dicembre"],SAVE:["Salva"],PLEASE_TRY_AGAIN:["Riprova"],YES:["S\u00ec"],SQUARE:["Quadrata"],THUMBNAIL:["Anteprima"],SMALL:["Piccola"],MEDIUM:["Medie"],LARGE:["Grandi"],ORIGINAL:["Originale"],REPLACE:["Sostituisci"],SAVING:["Salvataggio in corso"],REPLACING:["Sostituzione in corso"],JOIN:["Iscriviti"],SELECTED:[{type:"plural",valueName:"count",options:{one:"${#} selezionata",other:"${#} selezionate"}}],PREVIEW:["Anteprima"],DATE_TAKEN:["Data dello scatto"],DATE_POSTED:["Data pubblicazione"],DATE_UPLOADED:["Data del caricamento"],PEOPLE:["Persone"],BETA:["Beta"],INVALID_DATE:["Data non valida."],INVALID_DATE_TAKEN:["Data dello scatto non valida."],INVALID_DATE_POSTED:["Data di pubblicazione non valida."],INVALID_DATE_UPLOADED:["Data del caricamento non valida."],FUTURE_DATE_POSTED:["La data di pubblicazione immessa \u00e8 nel futuro."],FUTURE_DATE_UPLOADED:["La data del caricamento \u00e8 nel futuro."],INVALID_DATE_VALUE:["Una o pi\u00f9 date inserite non sono valide."],INVALID_DATE_TAKEN_VALUE:["Data dello scatto non valida."],INVALID_DATE_POSTED_VALUE:["Data di pubblicazione non valida."],INVALID_DATE_UPLOADED_VALUE:["Valore della data del caricamento non valido."],JOIN_FLICKR:["Iscriviti a Flickr"],DATE_UPLOADED_BEFORE_ACCOUNT:["La data del caricamento deve essere successiva alla data di creazione del tuo account del ",{type:"date",valueName:"intlDate",format:"long"},"."],DOWNLOAD:["Scarica"],CHOOSE_VALID_DATE:["Selezionare una data valida."],CHANGE:["Modifica"],FUTURE_DATE_TAKEN:["La data dello scatto inserita \u00e8 nel futuro."],BY_USER:["da ","${user}"],BY_YOU:["scattata da TE!"],PHOTO_SELECTOR_ERROR_MESSAGE_GENERIC:["Si \u00e8 verificato un problema durante il caricamento della foto. Riprovare."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_TYPE:["Sembra che il tipo di file della foto non sia valido. Carica una foto in formato PNG o JPG."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_SIZE:["Sembra che la foto sia troppo grande per essere caricata. Possiamo caricare una foto con dimensioni massime di 250 MB."],PHOTO_SELECTOR_ERROR_MESSAGE_FILE_COUNT:["Seleziona solo una foto da caricare."],PHOTO_SELECTOR_ERROR_MESSAGE_LOW_QUALITY:['Questa foto non ha i requisiti minimi necessari per la stampa. Scegli una foto con dimensioni di almeno 975 x 825 pixel. Ulteriori informazioni sui <a href="http://help.yahoo.com/kb/index?page=content&y=PROD_FLICKR&locale=en_US&id=SLN22567" target="_blank">requisiti</a> per i prodotti stampati.'],PHOTO_SELECTOR_ERROR_MESSAGE_COLOR_SPACE:['Impossibile stampare foto con uno spazio di colore CMYK o ProPhoto RGB. Consigliamo di utilizzare foto con uno spazio di colore sRGB. <a href="https://help.yahoo.com/kb/flickr/creations-faq-sln22216.html?impressions=true#cont33" target="_blank">Per saperne di pi\u00f9</a>.'],PHOTO_SELECTOR_BACK_TO_ALBUM_LIST:["Torna all'elenco dell'album"],PHOTO_SELECTOR_BACK_TO_CATEGORY_LIST:["Torna all'elenco della categoria"],PHOTO_SELECTOR_BACK_TO_SEARCH_LIST:["Torna all'elenco della ricerca"],MARKETPLACE:["Marketplace"],USERS_FAVES:["Preferiti di ","${who}"],USERS_ALBUMS:["Album di ","${who}"],LOAD_MORE_RESULTS:["Carica altri risultati"],CREATE_AN_ACCOUNT:["Crea un account"],SIGN_IN_MESSAGE:["Accedi a Flickr utilizzando il tuo account Yahoo per iniziare."],MISMATCHED_NSID_ERROR:['Qualcosa non ha funzionato. Clicca "OK" per ricaricare la pagina oppure "Annulla" se desideri continuare a consultare la pagina ( non potrai per\u00f2 eseguire alcuna azione).'],NETWORK_CONNECTIVITY_ISSUE:['Si \u00e8 verificato un errore durante la lettura dei dati dal nostro server.  Verifica le tue impostazioni di rete e la configurazione di plugin ed estensioni del browser.<br><br>Clicca su "OK" per ricaricare la pagina oppure su "Annulla" per continuare a navigare nella pagina (tuttavia, potresti non essere in grado di eseguire alcuna azione).'
],IE_STORAGE_ISSUE:['Si \u00e8 verificato un errore durante la visualizzazione delle immagini nel browser.  Verifica le impostazioni del browser nella scheda <b>Strumenti > Opzioni Internet > Generale, Cronologia esplorazioni, pulsante \u201cImpostazioni\u201d > cache e database</b>.<br><br>Clicca su "OK" per ricaricare la pagina oppure su "Annulla" per continuare a navigare nella pagina (tuttavia, potresti non essere in grado di eseguire alcuna azione).'],PHOTO_REMOVE_ERROR:["Qualcosa \u00e8 andato storto durante l'eliminazione della foto... riprova."],LEARN_MORE:["Per saperne di pi\u00f9"],LEARN_MORE_ABOUT_PRO:["Scopri di pi\u00f9 su Pro"],EVERYTHING:["Tutto"],ALPHA:["Alfa"],BACK:["Indietro"],UNTITLED:["Senza titolo"],HIDE_PHOTOS_FROM_PERSON:["Nascondi temporaneamente tutte le foto di questa persona"],SHOW_MORE:["Mostra altro"],CHOOSE_FILE:["Scegli file"],PHOTO_BOOKS:["Fotolibri"],WALL_ART:["Wall Art"],UPLOADING:["Caricamento in corso"],NUMERIC_PROGRESS_COUNT:["${progress}"," di ","${total}"],UPLOAD_DROP_TARGET:["Molla la presa! Da qui in poi, ci pensiamo noi."],DRAG_AND_DROP:["Trascina le foto in qualunque punto della pagina"],OR:["o"],SELECT_FILES_TO_UPLOAD:["Seleziona i file da caricare"],INSTALL:["Installa"],INSTALL_FLICKR_UPLOADER_FOR_MAC:["Installa Flickr Uploadr per Mac per eseguire in modo rapido e sicuro il backup dell'intera raccolta di foto."],INSTALL_FLICKR_UPLOADER_FOR_WINDOWS:["Installa Flickr Uploadr per Windows per eseguire in modo rapido e sicuro il backup dell'intera raccolta di foto."],FLICKR_IS_ALMOST_CERTAINLY:["Flickr \u00e8 una delle migliori applicazioni al mondo per la condivisione e la gestione delle foto online. Mostra al mondo le tue foto e i tuoi video preferiti, condividi contenuti con amici e familiari in modo sicuro e privato o pubblica sul tuo blog le foto e i video scattati con la fotocamera del tuo smartphone."],TOGGLE_SLIDESHOW:["Attiva slideshow"],UPLOAD_MORE_INFO:['Per informazioni sui formati dei file supportati, <a href="https://help.yahoo.com/kb/flickr/upload-limitations-flickr-sln15628.html" target="_blank">clicca qui</a>.'],UPLOAD_ERROR_TITLE:["Ops..."],UPLOAD_ERROR_CATEGORY_INVALID:['Probabilmente questi tipi di file non sono supportati oppure i file sono danneggiati. <a href="https://help.yahoo.com/kb/flickr/upload-limitations-flickr-sln15628.html" target="_blank">Clicca qui</a> per avere maggiori informazioni.'],UPLOAD_ERROR_CATEGORY_GENERIC:['Impossibile caricare i file. Prova a caricarli nuovamente. <a href="https://help.yahoo.com/kb/flickr/upload-limitations-flickr-sln15628.html" target="_blank">Clicca qui</a> per avere maggiori informazioni.'],TRY_MDOT:["Prova la nuova versione ottimizzata di Flickr per il tuo dispositivo mobile"],VIDEO_NOT_SUPPORTED:["Ci dispiace, il tuo browser non supporta video HTML5."],UNBLOCK:["Sblocca"],START_SLIDESHOW:["Avvia slideshow"],EACH_FLICKR_ACCOUNT_HAS_STORAGE:["Ogni account Flickr ha 1000 GB di spazio di archiviazione gratuito per le foto."],BUY_LICENSE:["Licenza"],BUY_PHOTO:["Acquista foto"],BUY:["Acquista"],LICENSE_PHOTO:["Acquista licenza"],HAVE_YAHOO_ACCOUNT:["Hai un account Yahoo?"],SIGN_UP_WITH_YAHOO:["Registrati con Yahoo"],SIGN_INTO_FLICKR:["Accedi a Flickr"],NEVER_DELETE_WITH_ONE_TB:["Con un terabyte di spazio di archiviazione gratuito non dovrai mai pi\u00f9 eliminare nessuna foto."],CLICK_BUTTON_THIRD_PARTY:["Facendo clic su questo pulsante verrai reindirizzato a un sito web di terze parti."],LICENSE_TITLE_0:["Tutti i diritti riservati"],LICENSE_DESC_0:["Per utilizzare quest'opera, devi richiedere l'autorizzazione alla persona che l'ha creata."],LICENSE_TITLE_1:["Attribuzione, non commerciale, condivisione in condizioni simili"],LICENSE_DESC_1:["Puoi utilizzare quest'opera solo a fini non commerciali e segnalando come autore la persona che l'ha creata. Quindi, devi consentire che il tuo lavoro venga utilizzato alle stesse condizioni dell'opera originale."],LICENSE_TITLE_2:["Attribuzione, non commerciale"],LICENSE_DESC_2:["Puoi utilizzare quest'opera solo a fini non commerciali e segnalando come autore la persona che l'ha creata."],LICENSE_TITLE_3:["Attribuzione, non commerciale, non derivativa"],LICENSE_DESC_3:["Puoi utilizzare quest'opera nella sua forma originale, senza apportare modifiche e solo a fini non commerciali e segnalando come autore la persona che l'ha creata."],LICENSE_TITLE_4:["Solo attribuzione"],LICENSE_DESC_4:["Puoi utilizzare quest'opera segnalando come autore la persona che l'ha creata."],LICENSE_TITLE_5:["Attribuzione, condivisione in condizioni simili"],LICENSE_DESC_5:["Puoi utilizzare quest'opera segnalando come autore la persona che l'ha creata. Quindi, devi consentire che il tuo lavoro venga utilizzato alle stesse condizioni dell'opera originale."],LICENSE_TITLE_6:["Attribuzione, non derivativa"],LICENSE_DESC_6:["Puoi utilizzare quest'opera nella sua forma originale, senza apportare modifiche e segnalando come autore la persona che l'ha creata."],LICENSE_TITLE_7:["Nessuna limitazione nota"],LICENSE_DESC_7:["L'individuo o l'organizzazione che ha pubblicato l'opera non \u00e8 a conoscenza di eventuali limitazioni. Devi controllare la licenza dell'opera prima di utilizzarla."],LICENSE_TITLE_8:["Opere del governo statunitense"],LICENSE_DESC_8:["Nessuna opera del Governo degli Stati Uniti \u00e8 sottoposta a tutela dei diritti d\u2019autore."],LICENSE_TITLE_9:["Opera dedicata di pubblico dominio"],LICENSE_DESC_9:["Puoi utilizzare quest'opera perch\u00e9 il copyright non \u00e8 pi\u00f9 in vigore."],LICENSE_TITLE_10:["Opera di pubblico dominio"],LICENSE_DESC_10:["Puoi utilizzare quest'opera perch\u00e9 il copyright \u00e8 scaduto."],TRENDING:["Pi\u00f9 popolari"],GROUP_YOUR_BEST_SHOT:["Miglior scatto 2015"],GROUP_YOUR_BEST_SHOT_2016:["Miglior Scatto 2016"],DELETED_USER:["eliminato"],EXPLORE_SLOW:["Abbiamo qualche problema nel mostrare Esplora al momento. Riprova."],MODULES_BLOCKED:['Si \u00e8 verificato un errore durante il caricamento dei moduli necessari per visualizzare questa pagina.  Disabilita tutte le estensioni del browser che potrebbero bloccare le risorse della pagina.<br><br>Quindi, clicca su "OK" per ricaricare la pagina oppure su "Annulla" per continuare a navigare nella pagina (tuttavia, potresti non essere in grado di eseguire alcuna azione).'
],HOME:["Home"],MAIN:["Principale"],SECONDARY:["Secondaria"],FILTER:["Filtro"],CLOSE:["Chiudi"],USER_ICON:["icona utente"],GROUP_ICON:["icona gruppo"],AD_ICON:["icona annuncio"],ADD_TO_FAVORITES:["Aggiungi a Preferiti"],LEFT_ARROW:["Freccia sinistra"],RIGHT_ARROW:["Freccia destra"],DONT_SHOW_IN_FEED:["Non mostrare nel mio feed"],SHOW_IN_FEED:["Mostra nel mio feed"]})},"@VERSION@",{requires:["intl"]});
YUI.add("flickr-groups-pools-getContext-fetcher",function(e,t){"use strict";function n(t){var n={photo_id:t.photoId,extras:e.APIHelper.request.getRebootPhotoExtras()+",datecreate",num_prev:t.numNext,num_next:t.numPrev,get_group_info:1};if(t.id)n.group_id=t.id;else{if(!t.pathAlias)throw new Error("[flickr-groups-pools-getPhotos-fetcher] `id` or `pathAlias` is required.");n.group_path_alias=t.pathAlias}return n}function r(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=t[4],a=t[5],f=[],l=[],c=s.proxy(n.photoId),h,p,d,v,m,g,y=[];return h=r.prevphotos,p=r.nextphotos,l=e.APIHelper.response.parsePhotos({photos:h.photo,personModelRegistry:o,photoModelRegistry:s,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),f=e.APIHelper.response.parsePhotos({photos:p.photo,personModelRegistry:o,photoModelRegistry:s,photoEngagementModelRegistry:u,photoStatsModelRegistry:a}),g=i.getValue(n.id,"photoContextList"),v=g.hasMinBoundary?g.hasMinBoundary():!1,m=g.hasMaxBoundary?g.hasMaxBoundary():!1,d=g.getList(),y=e.APIHelper.response.addOrReplaceListByContext({model:c,next:l,prev:f.reverse(),current:d,hasMin:v,hasMax:m,numNext:n.numNext,numPrev:n.numPrev}),i.setValue(n.id,"photoContextList",y),{next:l,previous:f.reverse()}}function i(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.pools.getContext",this._processParams(n),!0),r.getModelRegistry("group-pool-models"),r.getModelRegistry("photo-models"),r.getModelRegistry("person-models"),r.getModelRegistry("photo-engagement-models"),r.getModelRegistry("photo-stats-models")]).then(function(e){return i._processResponse(e,n)},function(e){throw e.code===2&&e.message==="Photo not in pool"&&(e.notInContext=!0),e}).then(null,e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-groups-pools-getContext"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-models","photo-engagement-models","photo-stats-models","group-models"]});
YUI.add("flickr-groups-pools-add-creator",function(e,t){"use strict";function n(t){var n={photo_id:t.photoID,group_id:e.Models["group-pool-models"].extractGroupFromCompoundId(t.groupID)};return n}function r(e,t){var n=e.apiResponse,r=e.groupPoolModel,i=e.photoModel,s=e.photoGroupsModelRegistry,o=e.photoContextsModelRegistry,u=e.unfilteredGroupPoolModel;if(n.stat==="ok")return r&&!r.hasPhoto(i.getValue("id"))&&(r.addPhotoLocal(i),r.getValue("group").setValue("poolCount",r.getValue("group").getValue("poolCount")+1)),u&&u.hasPhoto(i.getValue("id"))&&u.addPhotoLocal(i),s.exists(t.photoID)&&!s.getValue(t.photoID,"groups").getFromListByID(t.unfilteredGroupId)&&(s.getValue(t.photoID,"groups").unshift(r),s.setValue(t.photoID,"total",s.getValue(t.photoID,"total")+1)),o.exists(t.photoID)&&!o.getValue(t.photoID,"contexts").getFromListByID(t.unfilteredGroupId)&&(o.setValue(t.photoID,"totalGroups",o.getValue(t.photoID,"totalGroups")+1),o.getValue(t.photoID,"contexts").push(r)),r}function i(n,r){var i=this,s=this._processParams(n),o=n.registryName||"group-pool-models",u={apiResponse:r.callAPI("flickr.groups.pools.add",s),groupPoolModel:r.getModel(o,n.groupID),photoModel:r.getModel("photo-models",n.photoID),photoGroupsModelRegistry:r.getModelRegistry("photo-groups-models"),photoContextsModelRegistry:r.getModelRegistry("photo-contexts-models")};return n.unfilteredGroupId=s.group_id,o!=="group-pool-models"&&(u.unfilteredGroupPoolModel=r.getModel("group-pool-models",n.unfilteredGroupId)),(new e.FlickrPromise(u)).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelCreators")["flickr-groups-pools-add"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("flickr-groups-pools-remove-deletor",function(e,t){"use strict";function n(t){var n={photo_id:t.photoID,group_id:e.Models["group-pool-models"].extractGroupFromCompoundId(t.groupID)};return n}function r(e,t){var n=e.apiResponse,r=e.groupPoolModelRegistry,i=e.photoModelRegistry,s=e.photoGroupsModelRegistry,o=e.photoContextsModelRegistry,u=e.unfilteredGroupPoolModelRegistry;if(n.stat==="ok")return o.exists(t.photoID)&&o.getValue(t.photoID,"contexts").getFromListByID(t.unfilteredGroupId)&&(o.setValue(t.photoID,"totalGroups",o.getValue(t.photoID,"totalGroups")-1),o.getValue(t.photoID,"contexts").removeFromList(t.unfilteredGroupId)),s.exists(t.photoID)&&s.getValue(t.photoID,"groups").getFromListByID(t.unfilteredGroupId)&&(s.setValue(t.photoID,"total",s.getValue(t.photoID,"total")-1),s.getValue(t.photoID,"groups").removeFromList(t.unfilteredGroupId)),r&&(r.hasPhoto(i.getValue("id"))&&r.removePhotoLocal(i),r.getValue("group").setValue("poolCount",r.getValue("group").getValue("poolCount")-1)),u&&u.hasPhoto(i.getValue("id"))&&u.removePhotoLocal(i),r}function i(n,r){var i=this,s=this._processParams(n),o=n.registryName||"group-pool-models",u={apiResponse:r.callAPI("flickr.groups.pools.remove",s),groupPoolModelRegistry:r.getModel(o,n.groupID),photoModelRegistry:r.getModel("photo-models",n.photoID),photoGroupsModelRegistry:r.getModelRegistry("photo-groups-models"),photoContextsModelRegistry:r.getModelRegistry("photo-contexts-models")};return n.unfilteredGroupId=s.group_id,o!=="group-pool-models"&&(u.unfilteredGroupPoolModelRegistry=r.getModel("group-pool-models",n.unfilteredGroupId)),(new e.FlickrPromise(u)).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelDeletors")["flickr-groups-pools-remove"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("flickr-groups-invite-photo-invite-creator",function(e,t){"use strict";function n(n,r){var i={},s=e.Models["group-pool-models"].extractGroupFromCompoundId(n.groupID);return i.photo_id=n.photoID,i.group_id=s,e.Promise.all([r.callAPI("flickr.groups.invite.photo.invite",i),r.getModel("group-pool-models",s),r.getModelRegistry("photo-group-invitation-models"),r.getModelRegistry("photo-group-invitations-models")]).then(function(e){var t=e[0],i=e[1],o=e[2],u=e[3],a,f,l;if(t.stat==="ok")return a=[n.photoID,s].join("-"),f={id:a,photoId:n.photoID,groupId:s,invitedBy:r.getViewer().nsid},l=o.exists(a)?o.proxy(a):o.add(f),u.exists(n.photoID)&&!u.getValue(n.photoID,"invitations").getFromListByID(a)&&(u.getValue(n.photoID,"groups").prependToList(i),u.getValue(n.photoID,"invitations").prependToList(l),u.setValue(n.photoID,"total",u.getValue(n.photoID,"total")+1)),i},e.FetcherErrorLogger(t))}e.namespace("ModelCreators")["flickr-groups-invite-photo-invite"]={run:n}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("flickr-groups-invite-photo-cancel-deletor",function(e,t){"use strict";function n(n,r){var i={},s=e.Models["group-pool-models"].extractGroupFromCompoundId(n.groupID);return i.photo_id=n.photoID,i.group_id=s,e.Promise.all([r.callAPI("flickr.groups.invite.photo.cancel",i),r.getModel("group-pool-models",s),r.getModelRegistry("photo-group-invitation-models"),r.getModelRegistry("photo-group-invitations-models")]).then(function(e){var t=e[0],r=e[1],i=e[2],o=e[3],u;if(t.stat==="ok")return u=[n.photoID,s].join("-"),o.exists(n.photoID)&&o.getValue(n.photoID,"invitations").getFromListByID(u)&&(o.setValue(n.photoID,"total",o.getValue(n.photoID,"total")-1),o.getValue(n.photoID,"groups").removeFromList(s),o.getValue(n.photoID,"invitations").removeFromList(u)),i.remove(u),r},e.FetcherErrorLogger(t))}e.namespace("ModelDeletors")["flickr-groups-invite-photo-cancel"]={run:n}},"@VERSION@",{requires:["flickr-promise","group-pool-models"],optional:[]});
YUI.add("group-pool-by-person-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.Models["group-pool-models"],{name:this.name,attributes:e.merge(e.Models["group-pool-models"].prototype.attributes,{personFilter:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:null}})})},"@VERSION@",{requires:["attribute-helpers","group-pool-models","flickr-groups-pools-getPhotos-fetcher","flickr-groups-pools-add-creator","flickr-groups-pools-remove-deletor","flickr-groups-invite-photo-invite-creator","flickr-groups-invite-photo-cancel-deletor"]});
YUI.add("group-pool-by-tag-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.Models["group-pool-models"],{name:this.name,attributes:{tagFilter:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultValue:null}}})},"@VERSION@",{requires:["attribute-helpers"]});
YUI.add("flickr-groups-pools-getPhotos-fetcher",function(e,t){"use strict";function n(t){var n={extras:e.APIHelper.request.getRebootPhotoExtras()+","+e.APIHelper.request.getRebootGroupExtras(),per_page:t.perPage||20,page:t.page||1,get_group_info:1};if(t.id)n.group_id=e.Models["group-pool-models"].extractGroupFromCompoundId(t.id);else{if(!t.pathAlias)throw new Error("[flickr-groups-pools-getPhotos-fetcher] `id` or `pathAlias` is required.");n.group_path_alias=t.pathAlias}return t.withPhotoId&&(n.jump_to=t.withPhotoId),t.privacyFilter&&(n.privacy_filter=t.privacyFilter),t.safeSearch&&(n.safe_search=t.safeSearch),t.media&&(n.media=t.media),t.personFilter&&(n.user_id=t.personFilter),t.tagFilter&&(n.tags=t.tagFilter),n}function r(t,n){var r=t.apiResponse,i=t.photoModelRegistry,s=t.personModelRegistry,o=t.groupPoolModelRegistry,u=t.groupPoolByPersonModelRegistry,a=t.groupPoolByTagModelRegistry,f=t.photoEngagementModelRegistry,l=t.photoStatsModelRegistry,c=t.groupModelRegistry,h,p,d,v;return r.group.pathAlias=r.group.pathalias===""?null:r.group.pathalias,h=c.parseGroupModel(r.group.nsid,r.group.pathAlias,r.group),c.addOrUpdate(h),p={pathAlias:r.group.pathAlias,group:c.proxy(h.id),filteredPoolCount:r.group.poolCount},d=e.APIHelper.response.parsePhotos({photos:r.photos.photo,personModelRegistry:s,photoModelRegistry:i,photoEngagementModelRegistry:f,photoStatsModelRegistry:l}),p.photoPageList={perPage:r.photos.perpage,page:r.photos.page,pageContent:d,totalItems:p.filteredPoolCount},n.personFilter?(p.id=e.Models["group-pool-models"].buildCompoundId(r.group.nsid,n.personFilter),p.personFilter=n.personFilter,p.filteredPoolCount=p.photoPageList.totalItems=r.photos.total,v=u):n.tagFilter?(p.id=e.Models["group-pool-models"].buildCompoundId(r.group.nsid,n.tagFilter),p.tagFilter=n.tagFilter,p.filteredPoolCount=p.photoPageList.totalItems=r.photos.total,v=a):(n.id&&n.id!==r.group.nsid?p.id=n.id:p.id=r.group.nsid,v=o),v.exists(p.id)?(v.setValue(p.id,"photoPageList",p.photoPageList),v.setValue(p.id,"group",p.group),v.setValue(p.id,"pathAlias",p.pathAlias),v.setValue(p.id,"filteredPoolCount",parseInt(p.filteredPoolCount,10)||0),p.group.setValue("poolCount",parseInt(r.group.poolCount,10)||0)):v.add(p),d}function i(n,r){var i=this,s=this._processParams(n),o={apiResponse:r.callAPI("flickr.groups.pools.getPhotos",s,!0),photoModelRegistry:r.getModelRegistry("photo-models"),personModelRegistry:r.getModelRegistry("person-models"),groupPoolModelRegistry:r.getModelRegistry("group-pool-models"),photoEngagementModelRegistry:r.getModelRegistry("photo-engagement-models"),photoStatsModelRegistry:r.getModelRegistry("photo-stats-models"),groupModelRegistry:r.getModelRegistry("group-models")};return n.personFilter&&(o.groupPoolByPersonModelRegistry=r.getModelRegistry("group-pool-by-person-models")),n.tagFilter&&(o.groupPoolByTagModelRegistry=r.getModelRegistry("group-pool-by-tag-models")),(new e.FlickrPromise(o)).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-groups-pools-getPhotos"]={run:i,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["photo-models","person-models","photo-engagement-models","photo-stats-models","group-models","group-pool-models","group-pool-by-person-models","group-pool-by-tag-models"]});
YUI.add("group-contributor-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,attributes:{nsid:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},dateJoined:{validator:function(t){return e.AttributeHelpers.validateDate(t)},setter:function(t){return e.AttributeHelpers.coerceDate(t)},serialize:function(e){return e.format("X")},deserialize:function(t){return e.moment(t,"X")}},groupDiscussionCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},groupPhotoCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultValue:0},pathAlias:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},rank:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},realname:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},username:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},latestPhotoId:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},latestPhotoTitle:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},avatarUrl:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)}},latestPhotoUrl:{readOnly:!0,derivedBy:["contributorUrl","latestPhotoId"],getter:function(e,t){return this.getValue(t,"latestPhotoId")?this.getValue(t,"contributorUrl")+this.getValue(t,"latestPhotoId")+"/":!1}},displayname:{readOnly:!0,derivedBy:["username"],getter:function(e,t){return this.getValue(t,"username")}},contributorUrl:{readOnly:!0,derivedBy:["id","pathAlias"],getter:function(e,t){return"/photos/"+(this.getValue(t,"pathAlias")||this.getValue(t,"nsid"))+"/"}},isPro:{defaultValue:!1,setter:function(t){return e.AttributeHelpers.coerceBoolean(t)}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","attribute-helpers"]});
YUI.add("flickr-groups-getTopContributors-fetcher",function(e,t){"use strict";function n(e){var t={group_id:e.id,type:"all",extras:"include_viewer,is_pro"};return t}function r(e,t){var n=e[0],r=e[1],s=e[2],o,u,a;return u={photoContributors:[],discussionContributors:[],id:t.id},n&&n.contributors&&[{k:"photos",v:"photoContributors"},{k:"discussions",v:"discussionContributors"}].forEach(function(e){n.contributors[e.k]&&(o=n.contributors[e.k],o.contributor&&o.contributor.forEach(function(n){a=i(n,t.id),u[e.v].push(s.addOrUpdate(a))}))}),n&&n.viewer&&n.viewer.length!==0?(a=i(n.viewer,t.id),u.viewer=s.addOrUpdate(a)):u.viewer=null,r.addOrUpdate(u),r.proxy(u.id)}function i(t,n){var r={id:t.id+"-"+n,nsid:t.id,dateJoined:t.dateJoined?e.moment(t.dateJoined.toString(),"X"):e.moment(),groupDiscussionCount:t.groupDiscussionCount,groupPhotoCount:t.groupPhotoCount,pathAlias:t.pathAlias,rank:t.rank,realname:t.realname,username:t.username,isPro:t.isPro,avatarUrl:e.URLHelper.getBuddyIconURL(t.id,t.iconfarm,t.iconserver)};return t.latestPhoto&&(r.latestPhotoId=t.latestPhoto.id,r.latestPhotoTitle=t.latestPhoto.name),r}function s(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.getTopContributors",this._processParams(n),!0),r.getModelRegistry("group-top-contributors-models"),r.getModelRegistry("group-contributor-models")]).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-groups-getTopContributors"]={run:s,_processParams:n,_processResponse:r}},"@VERSION@",{requires:["flickr-promise","api-helper","moment","url-helper"],optional:["group-top-contributors-models","group-contributor-models"]});
YUI.add("group-top-contributors-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){var n=this;return e.ModelFetchers["flickr-groups-getTopContributors"].run(t,this.appContext).then(function(e){return n})}},attributes:{viewer:{isModel:!0,defaultValue:null},contributors:{isCollection:!0},photoContributors:{isCollection:!0},discussionContributors:{isCollection:!0}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-groups-getTopContributors-fetcher","attribute-helpers"]});
YUI.add("group-pool-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ListFetchers["flickr-groups-pools-getPhotos"].run(t,this.appContext)},addPhoto:function(t,n){return t.registryName=this.name,e.ModelCreators["flickr-groups-pools-add"].run(t,n)},removePhoto:function(t,n){return t.registryName=this.name,e.ModelDeletors["flickr-groups-pools-remove"].run(t,n)},invitePhoto:function(t,n){return e.ModelCreators["flickr-groups-invite-photo-invite"].run(t,n)},cancelPhotoInvitation:function(t,n){return e.ModelDeletors["flickr-groups-invite-photo-cancel"].run(t,n)}},addPhotoLocal:function(e,t){return this.getValue(e,"photoPageList").unshift(t),this.getValue(e,"photoContextList").hasMaxBoundary()&&this.getValue(e,"photoContextList").appendToList(t),this},addPhotoRemote:function(e,t){return this.remote.addPhoto.call(this,{photoID:t,groupID:e},this.appContext)},removePhotoLocal:function(e,t){return this.getValue(e,"photoPageList").removeFromList(t.getValue("id")),this.getValue(e,"photoContextList").removeFromList(t.getValue("id")),this},removePhotoRemote:function(e,t){return this.remote.removePhoto.call(this,{photoID:t,groupID:e},this.appContext)},invitePhotoRemote:function(e,t){return this.remote.invitePhoto.call(this,{photoID:t,groupID:e},this.appContext)},cancelPhotoInvitationRemote:function(e,t){return this.remote.cancelPhotoInvitation.call(this,{photoID:t,groupID:e},this.appContext)},hasPhoto:function(e,t){return this.getValue(e,"photoPageList").getFromListByID(t)||this.getValue(e,"photoContextList").getFromListByID(t)},attributes:{displayType:{readOnly:!0,defaultFn:function(){return"group"}},pathAlias:{validator:function(t,n){return e.AttributeHelpers.validateString(t)},setter:function(t){return e.AttributeHelpers.coerceString(t)},defaultFn:function(e){return e}},photoPageList:{isCollection:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-groups-pools-getPhotos"]}},photoContextList:{isListProxy:!0,contextFetch:{listFetcher:e.ListFetchers["flickr-groups-pools-getContext"],listItemIdField:"photoId"}},group:{isModel:!0},urlSuffix:{readOnly:!0,derivedBy:["pathAlias"],defaultFn:function(e){var t=this.getValue(e,"pathAlias");return t||(t=e),"pool-"+t}},url:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return this.getValue(e,"group").getValue("url")}},title:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return this.getValue(e,"group").getValue("title")}},poolCount:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return this.getValue(e,"group").getValue("poolCount")}},filteredPoolCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)},defaultFn:function(e){return this.getValue(e,"group").getValue("poolCount")}},friendlyPoolCount:{readOnly:!0,derivedBy:["group"],defaultFn:function(e){return this.getValue(e,"group").getValue("friendlyPoolCount")}}}},{buildCompoundId:function(e,t){return e+"-"+t},extractGroupFromCompoundId:function(e){return e.split("-")[0]}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-groups-pools-getContext-fetcher","flickr-groups-pools-getPhotos-fetcher","flickr-groups-pools-add-creator","flickr-groups-pools-remove-deletor","flickr-groups-invite-photo-invite-creator","flickr-groups-invite-photo-cancel-deletor","attribute-helpers"],optional:["group-top-contributors-models"]});
YUI.add("flickr-groups-pools-getGroups-fetcher",function(e,t){"use strict";function n(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=r.groups,a=n.id,f={},l=[];if(u)return u.group&&e.Array.each(u.group,function(e,t){var n,r,i;i=o.parseGroupModel(e.id,e.pathAlias,e),n=o.addOrUpdate(i),r=s.addOrUpdate({id:e.id,pathAlias:e.pathAlias,group:n}),l.push(r)}),f={id:a,memberCount:r.userGroupMemberships?r.userGroupMemberships.member:null,moderatorCount:r.userGroupMemberships?r.userGroupMemberships.moderator:null,adminCount:r.userGroupMemberships?r.userGroupMemberships.admin:null,invitedCount:r.userGroupMemberships?r.userGroupMemberships.invited:null},f.groups=e.APIHelper.response.addOrReplaceListByPage({current:i.exists(a)?i.proxy(a).getValue("groups").getList():[],perPage:n.perPage,pageNum:n.page,totalItems:r.groups.total,newPages:l}),i.exists(a)?i.setValue(a,"groups",f.groups):i.add(f),f.groups}function r(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.pools.getGroups",{extras:e.APIHelper.request.getRebootGroupExtras()+", icon_urls, needs_interstitial",page:n.page||0,per_page:n.perPage||400},!0),r.getModelRegistry("person-groups-models"),r.getModelRegistry("group-pool-models"),r.getModelRegistry("group-models")]).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-groups-pools-getGroups"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["person-groups-models","group-models","group-pool-models","person-models"]});
YUI.add("flickr-groups-fave-fetcher",function(e,t){"use strict";function n(e){}function r(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.fave",n),r.getModelRegistry("person-groups-models")]).then(i._processResponse,e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-groups-fave"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","flickr-promise"],optional:["person-groups-models","api-helper"]});
YUI.add("flickr-groups-unfave-fetcher",function(e,t){"use strict";function n(e){}function r(n,r){var i=this;return e.Promise.all([r.callAPI("flickr.groups.unfave",n),r.getModelRegistry("person-groups-models")]).then(i._processResponse,e.FetcherErrorLogger(t))}e.namespace("ModelFetchers")["flickr-groups-unfave"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","flickr-promise"],optional:["person-groups-models","api-helper"]});
YUI.add("flickr-people-getGroupsWithStatus-fetcher",function(e,t){"use strict";function n(t,n){var r=t[0],i=t[1],s=t[2],o=t[3],u=r.groups,a=n.id,f,l={},c=[];if(u)return e.Array.each(u,function(t,r){var i,u,a,l=s.parseGroupModel(n.id,n.pathAlias,t);i=s.addOrUpdate(l),c.push(i),t.viewDates?(t.viewDates.pool!=="0"?u=e.moment(t.viewDates.pool,"X"):u=o.getDefaultViewedDate(),t.viewDates.discussions!=="0"?a=e.moment(t.viewDates.discussions,"X"):a=o.getDefaultViewedDate(),a.isValid()||(a=o.getDefaultViewedDate()),u.isValid()||(u=o.getDefaultViewedDate())):(u=o.getDefaultViewedDate(),a=o.getDefaultViewedDate()),f={id:l.id,viewedPool:u,viewedDiscussions:a,group:i},o.addOrUpdate(f)}),l={id:a,memberCount:r.members?r.members:null,moderatorCount:0,adminCount:0,invitedCount:0},l[n.attribute]=c,i.exists(a)?i.setValue(a,n.attribute,l[n.attribute]):i.add(l),l[n.attribute]}function r(n,r){var i=this,s={extras:e.APIHelper.request.getRebootGroupExtras()+", icon_urls, date_activity, date_last_viewed",user_id:n.id,status:n.status};return n.id!==r.getViewer().nsid&&(s.public_only=1,s.status="2,3,4"),e.Promise.all([r.callAPI("flickr.people.getGroupsWithStatus",s,!0),r.getModelRegistry("person-groups-models"),r.getModelRegistry("group-models"),r.getModelRegistry("group-activity-models")]).then(function(e){return i._processResponse(e,n)},e.FetcherErrorLogger(t))}e.namespace("ListFetchers")["flickr-people-getGroupsWithStatus"]={run:r,_processResponse:n}},"@VERSION@",{requires:["flickr-promise","api-helper"],optional:["person-groups-models","group-models"]});
YUI.add("person-groups-models",function(e){function t(e){t.superclass.constructor.call(this,e)}e.Models[this.name]=t,e.extend(t,e.FlickrModelRegistry,{name:this.name,remote:{read:function(t){return e.ModelFetchers["flickr-people-getInfo"].run(t,this.appContext)},faveGroup:function(t,n){return e.ModelFetchers["flickr-groups-fave"].run(t,n)},unfaveGroup:function(t,n){return e.ModelFetchers["flickr-groups-unfave"].run(t,n)}},faveGroup:function(e){var t=this,n=e.group_id,r=e.user_id;return this.remote.faveGroup(e,this.appContext).then(null,function(){t.appContext.getModel("group-models",n).then(function(e){t.getValue(r,"groupsFaved").removeFromList(n)})}),this.appContext.getModel("group-models",n).then(function(e){t.getValue(r,"groupsFaved").appendToList(e)})},unfaveGroup:function(e){var t=e.group_id,n=e.user_id,r=this;return this.remote.unfaveGroup(e,this.appContext).then(null,function(){r.appContext.getModel("group-models",t).then(function(e){r.getValue(n,"groupsFaved").appendToList(e)})}),this.appContext.getModel("group-models",t).then(function(e){r.getValue(n,"groupsFaved").removeFromList(t)})},attributes:{id:{},memberCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},moderatorCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},adminCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},invitedCount:{validator:function(t){return e.AttributeHelpers.validateInteger(t)},setter:function(t){return e.AttributeHelpers.coerceInteger(t)}},groups:{isListProxy:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-groups-pools-getGroups"]}},groupsAdministered:{isListProxy:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-people-getGroupsWithStatus"]}},groupsModerated:{isListProxy:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-people-getGroupsWithStatus"]}},groupsBelongingTo:{isListProxy:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-people-getGroupsWithStatus"]}},groupsFaved:{isListProxy:!0,pageFetch:{listFetcher:e.ListFetchers["flickr-people-getGroupsWithStatus"]}}}})},"@VERSION@",{requires:["flickr-model-registry","flickr-promise","flickr-groups-pools-getGroups-fetcher","flickr-people-getInfo-fetcher","flickr-groups-fave-fetcher","flickr-groups-unfave-fetcher","flickr-people-getGroupsWithStatus-fetcher"]});
